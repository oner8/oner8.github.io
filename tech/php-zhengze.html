<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="DAN.yu"><title>收集PHP常用正则表达式 · 安与星河</title><meta name="description" content="正则表达式是一大利器,参数验证,数据采集等很多地方都用到. 许多程序设计语言都支持利用正则表达式进行字符串操作。平常写程序经常用到正则表达式,就整理一些常用的正则表达式分享一下!
平时写程序经常要用正"><meta name="keywords" content="安与星河,DAN.yu,DANNY"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png"><link rel="manifest" href="/images/site.webmanifest"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/oner8/assets/css/style.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><script src="https://cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js"></script><meta name="generator" content="Hexo 4.2.0"></head><body><span class="donate-address">唯一指定邮箱：i#wrdan.com</span><div id="stage" class="container"><div class="row"><div id="side-bar" class="col-sm-3 col-xs-12 side-container invisible"><div class="vertical-text site-title"><h3 tabindex="-1" class="site-title-small"><a href="/" class="a-title">积土而为山，积水而为海</a></h3><h1 tabindex="-1" class="site-title-large"><a href="/" class="a-title">安与星河</a></h1><!--h6(onclick="triggerSiteNav()") Trigger--></div><br class="visible-lg visible-md visible-sm"><div id="site-nav" class="site-title-links"><ul><li><a href="/">首页</a></li><li><a href="/archives">归档</a></li><li><a href="/categories">分类</a></li><li><a href="/tags">标签</a></li><li><a href="/links.html">友链</a></li><li><a href="/about.html">关于</a></li><li class="soc"><a href="https://github.com/wrdan" target="_blank" rel="noopener noreferrer"><i class="fa fa-github">&nbsp;</i></a><a href="https://twitter.com/dannyw" target="_blank" rel="noopener noreferrer"><i class="fa fa-twitter">&nbsp;</i></a><a href="https://wrdan.com/atom.xml" target="_blank" rel="noopener noreferrer"><i class="fa fa-rss">&nbsp;</i></a></li></ul><div class="visible-lg visible-md visible-sm site-nav-footer"><br class="site-nav-footer-br"><footer><p>&copy;&nbsp;2020&nbsp;<a target="_blank" href="https://wrdan.com" rel="noopener noreferrer">DAN.yu</a></p><p>Theme&nbsp;<a target="_blank" href="https://github.com/SumiMakito/hexo-theme-typography" rel="noopener noreferrer">Typography</a>&nbsp;by&nbsp;<a target="_blank" href="https://www.keep.moe" rel="noopener noreferrer">Makito</a></p><p>Proudly published with&nbsp;<a target="_blank" href="https://hexo.io" rel="noopener noreferrer">Hexo</a></p></footer></div></div></div><div id="main-container" class="col-sm-9 col-xs-12 main-container invisible"><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post-container"><p class="post-title"><a>收集PHP常用正则表达式</a></p><p class="post-meta"><span class="meta-item"><i class="fa fa-calendar"></i><span>&nbsp;</span><span title="更新时间" class="meta-item">2017-05-01</span></span><span class="meta-item"><i class="fa fa-keyboard-o"></i><span>&nbsp;</span><span title="字数统计" class="meta-item">2.7k</span></span><span class="meta-item"><i class="fa fa-hourglass-o"></i><span>&nbsp;</span><span title="阅读时长" class="meta-item">11</span></span><span class="meta-item"><i class="fa fa-folder-open-o"></i><span>&nbsp;</span><a href="/categories/tech/" title="tech" class="a-tag">tech</a><span>&nbsp;</span></span></p><p class="post-abstract"><p>正则表达式是一大利器,参数验证,数据采集等很多地方都用到. 许多程序设计语言都支持利用正则表达式进行字符串操作。平常写程序经常用到正则表达式,就整理一些常用的正则表达式分享一下!</p>
<p>平时写程序经常要用正则表达式，下面是一些讲解和例子，仅供大家参考和修改使用：</p>
<pre><code>&quot;^\d+$&quot;　　//非负整数（正整数 + 0）

&quot;^[0-9][1-9][0-9]$&quot;　　//正整数

&quot;^((-\d+)|(0+))$&quot;　　//非正整数（负整数 + 0）

&quot;^-[0-9][1-9][0-9]$&quot;　　//负整数

&quot;^-?\d+$&quot;　　　　//整数

&quot;^\d+(.\d+)?$&quot;　　//非负浮点数（正浮点数 + 0）

&quot;^(([0-9]+.[0-9][1-9][0-9])|([0-9][1-9][0-9].[0-9]+)|([0-9][1-9][0-9]))$&quot;　　//正浮点数

&quot;^((-\d+(.\d+)?)|(0+(.0+)?))$&quot;　　//非正浮点数（负浮点数 + 0）

&quot;^(-(([0-9]+.[0-9][1-9][0-9])|([0-9][1-9][0-9].[0-9]+)|([0-9][1-9][0-9])))$&quot;　　//负浮点数

&quot;^(-?\d+)(.\d+)?$&quot;　　//浮点数

&quot;^[A-Za-z]+$&quot;　　//由26个英文字母组成的字符串

&quot;^[A-Z]+$&quot;　　//由26个英文字母的大写组成的字符串

&quot;^[a-z]+$&quot;　　//由26个英文字母的小写组成的字符串

&quot;^[A-Za-z0-9]+$&quot;　　//由数字和26个英文字母组成的字符串

&quot;^\w+$&quot;　　//由数字、26个英文字母或者下划线组成的字符串

&quot;^[\w-]+(.[\w-]+)*@[\w-]+(.[\w-]+)+$&quot;　　　　//email地址

&quot;^[a-zA-z]+://(\w+(-\w+))(.(\w+(-\w+)))(?\S)?$&quot;　　//url

/^(d{2}|d{4})-((0([1-9]{1}))|(1[1|2]))-((0-2)|(3[0|1]))$/ // 年-月-日

/^((0([1-9]{1}))|(1[1|2]))/((0-2)|(3[0|1]))/(d{2}|d{4})$/ // 月/日/年

&quot;^([w-.]+)@(([[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}.)|(([w-]+.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(]?)$&quot; //Emil

/^((+?[0-9]{2,4}-[0-9]{3,4}-)|([0-9]{3,4}-))?([0-9]{7,8})(-[0-9]+)?$/ //电话号码

&quot;^(d{1,2}|1dd|2[0-4]d|25[0-5]).(d{1,2}|1dd|2[0-4]d|25[0-5]).(d{1,2}|1dd|2[0-4]d|25[0-5]).(d{1,2}|1dd|2[0-4]d|25[0-5])$&quot; //IP地址

匹配中文字符的正则表达式： [\u4e00-\u9fa5]
匹配双字节字符(包括汉字在内)：[^\x00-\xff]
匹配空行的正则表达式：\n[\s| ]*\r
匹配HTML标记的正则表达式：/&lt;(.)&gt;.&lt;/\1&gt;|&lt;(.*) /&gt;/
匹配首尾空格的正则表达式：(^\s)|(\s$)
匹配Email地址的正则表达式：\w+([-+.]\w+)@\w+([-.]\w+).\w+([-.]\w+)*
匹配网址URL的正则表达式：^[a-zA-z]+://(\w+(-\w+))(\.(\w+(-\w+)))(\?\S)?$
匹配帐号是否合法(字母开头，允许5-16字节，允许字母数字下划线)：^[a-zA-Z][a-zA-Z0-9_]{4,15}$
匹配国内电话号码：(\d{3}-|\d{4}-)?(\d{8}|\d{7})?
匹配腾讯QQ号：^[1-9][1-9][0-9]$

  元字符及其在正则表达式上下文中的行为： 

\ 将下一个字符标记为一个特殊字符、或一个原义字符、或一个后向引用、或一个八进制转义符。 

^ 匹配输入字符串的开始位置。如果设置了 RegExp 对象的Multiline 属性，^ 也匹配 ’\n’ 或 ’\r’ 之后的位置。 

$ 匹配输入字符串的结束位置。如果设置了 RegExp 对象的Multiline 属性，$ 也匹配 ’\n’ 或 ’\r’ 之前的位置。 

* 匹配前面的子表达式零次或多次。 

+ 匹配前面的子表达式一次或多次。+ 等价于 {1,}。 

? 匹配前面的子表达式零次或一次。? 等价于 {0,1}。 

{n} n 是一个非负整数，匹配确定的n 次。 

{n,} n 是一个非负整数，至少匹配n 次。 
{n,m} m 和 n 均为非负整数，其中n &lt;= m。最少匹配 n 次且最多匹配 m 次。在逗号和两个数之间不能有空格。

? 当该字符紧跟在任何一个其他限制符 (*, +, ?, {n}, {n,}, {n,m}) 后面时，匹配模式是非贪婪的。非贪婪模式尽可能少的匹配所搜索的字符串，而默认的贪婪模式则尽可能多的匹配所搜索的字符串。

. 匹配除 &quot;\n&quot; 之外的任何单个字符。要匹配包括 ’\n’ 在内的任何字符，请使用象 ’[.\n]’ 的模式。 
(pattern) 匹配pattern 并获取这一匹配。 

(?:pattern) 匹配pattern 但不获取匹配结果，也就是说这是一个非获取匹配，不进行存储供以后使用。 

(?=pattern) 正向预查，在任何匹配 pattern 的字符串开始处匹配查找字符串。这是一个非获取匹配，也就是说，该匹配不需要获取供以后使用。 

(?!pattern) 负向预查，与(?=pattern)作用相反 

x|y 匹配 x 或 y。 

[xyz] 字符集合。 

[^xyz] 负值字符集合。 

[a-z] 字符范围，匹配指定范围内的任意字符。 

[^a-z] 负值字符范围，匹配任何不在指定范围内的任意字符。 

\b 匹配一个单词边界，也就是指单词和空格间的位置。 

\B 匹配非单词边界。 

\cx 匹配由x指明的控制字符。 
\d 匹配一个数字字符。等价于 [0-9]。

\D 匹配一个非数字字符。等价于 [^0-9]。

\f 匹配一个换页符。等价于 \x0c 和 \cL。 
\n 匹配一个换行符。等价于 \x0a 和 \cJ。


\r 匹配一个回车符。等价于 \x0d 和 \cM。 

\s 匹配任何空白字符，包括空格、制表符、换页符等等。等价于[ \f\n\r\t\v]。 

\S 匹配任何非空白字符。等价于 [^ \f\n\r\t\v]。 
\t 匹配一个制表符。等价于 \x09 和 \cI。

\v 匹配一个垂直制表符。等价于 \x0b 和 \cK。

\w 匹配包括下划线的任何单词字符。等价于’[A-Za-z0-9_]’。 
\W 匹配任何非单词字符。等价于 ’[^A-Za-z0-9_]’。

\xn 匹配 n，其中 n 为十六进制转义值。十六进制转义值必须为确定的两个数字长。 

\num 匹配 num，其中num是一个正整数。对所获取的匹配的引用。 
\n 标识一个八进制转义值或一个后向引用。如果 \n 之前至少 n 个获取的子表达式，则 n 为后向引用。否则，如果 n 为八进制数字 (0-7)，则 n 为一个八进制转义值。

\nm 标识一个八进制转义值或一个后向引用。如果 \nm 之前至少有is preceded by at least nm 个获取得子表达式，则 nm 为后向引用。如果 \nm 之前至少有 n 个获取，则 n 为一个后跟文字 m 的后向引用。如果前面的条件都不满足，若 n 和 m 均为八进制数字 (0-7)，则 \nm 将匹配八进制转义值 nm。 

\nml 如果 n 为八进制数字 (0-3)，且 m 和 l 均为八进制数字 (0-7)，则匹配八进制转义值 nml。 

\un 匹配 n，其中 n 是一个用四个十六进制数字表示的Unicode字符。 

匹配中文字符的正则表达式： [u4e00-u9fa5] 

匹配双字节字符(包括汉字在内)：[^x00-xff]

匹配Email地址的正则表达式：w+([-+.]w+)*@w+([-.]w+)*.w+([-.]w+)* 

匹配网址URL的正则表达式：http://([w-]+.)+[w-]+(/[w- ./?%&amp;=]*)? 

利用正则表达式限制网页表单里的文本框输入内容： 

用正则表达式限制只能输入中文：onkeyup=&quot;value=value.replace(/[^u4E00-u9FA5]/g,&#39;&#39;)&quot; onbeforepaste=&quot;clipboardData.setData(&#39;text&#39;,clipboardData.getData(&#39;text&#39;).replace(/[^u4E00-u9FA5]/g,&#39;&#39;))&quot; 

用正则表达式限制只能输入全角字符： onkeyup=&quot;value=value.replace(/[^uFF00-uFFFF]/g,&#39;&#39;)&quot; onbeforepaste=&quot;clipboardData.setData(&#39;text&#39;,clipboardData.getData(&#39;text&#39;).replace(/[^uFF00-uFFFF]/g,&#39;&#39;))&quot; 

用正则表达式限制只能输入数字：onkeyup=&quot;value=value.replace(/[^d]/g,&#39;&#39;) &quot;onbeforepaste=&quot;clipboardData.setData(&#39;text&#39;,clipboardData.getData(&#39;text&#39;).replace(/[^d]/g,&#39;&#39;))&quot; 

用正则表达式限制只能输入数字和英文：onkeyup=&quot;value=value.replace(/[W]/g,&#39;&#39;) &quot;onbeforepaste=&quot;clipboardData.setData(&#39;text&#39;,clipboardData.getData(&#39;text&#39;).replace(/[^d]/g,&#39;&#39;))&quot; 

=========常用正则式 

匹配中文字符的正则表达式： [\u4e00-\u9fa5] 

匹配双字节字符(包括汉字在内)：[^\x00-\xff] 

匹配空行的正则表达式：\n[\s| ]*\r 

匹配HTML标记的正则表达式：/&lt;(.*)&gt;.*&lt;\/\1&gt;|&lt;(.*) \/&gt;/ 

匹配首尾空格的正则表达式：(^\s*)|(\s*$) 
匹配IP地址的正则表达式：/(\d+).(\d+).(\d+).(\d+)/g //

匹配Email地址的正则表达式：\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)* 

匹配网址URL的正则表达式：http://(/[\w-]+\.)+[\w-]+(/[\w- ./?%&amp;=]*)? 

sql语句：^(select|drop|delete|create|update|insert).*$ 

1、非负整数：^\d+$ 

2、正整数：^[0-9]*[1-9][0-9]*$ 

3、非正整数：^((-\d+)|(0+))$ 

4、负整数：^-[0-9]*[1-9][0-9]*$ 

5、整数：^-?\d+$ 

6、非负浮点数：^\d+(\.\d+)?$ 
7、正浮点数：^((0-9)+.[0-9][1-9][0-9])|([0-9][1-9][0-9].[0-9]+)|([0-9][1-9][0-9]))$

8、非正浮点数：^((-\d+.\d+)?)|(0+(.0+)?))$

9、负浮点数：^(-((正浮点数正则式)))$ 
10、英文字符串：^[A-Za-z]+$ 
11、英文大写串：^[A-Z]+$
12、英文小写串：^[a-z]+$ 
13、英文字符数字串：^[A-Za-z0-9]+$

14、英数字加下划线串：^\w+$

15、E-mail地址：^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$ 

16、URL：^[a-zA-Z]+://(\w+(-\w+)*)(\.(\w+(-\w+)*))*(\?\s*)?$ 
或：^http:\/\/[A-Za-z0-9]+\.[A-Za-z0-9]+[\/=\?%\-&amp;_~`@[\]\&#39;:+!]*([^&lt;&gt;\&quot;\&quot;])*$ 
17、邮政编码：^[1-9]\d{5}$

18、中文：^[\u0391-\uFFE5]+$ 

19、电话号码：^((\(\d{2,3}\))|(\d{3}\-))?(\(0\d{2,3}\)|0\d{2,3}-)?[1-9]\d{6,7}(\-\d{1,4})?$ 
20、手机号码：^(((\d{2,3}))|(\d{3}-))?13\d{9}$

21、双字节字符(包括汉字在内)：^\x00-\xff 

22、匹配首尾空格：(^\s*)|(\s*$)（像vbscript那样的trim函数） 

23、匹配HTML标记：&lt;(.*)&gt;.*&lt;\/\1&gt;|&lt;(.*) \/&gt; 

24、匹配空行：\n[\s| ]*\r 

25、提取信息中的网络链接：(h|H)(r|R)(e|E)(f|F) *= *(&#39;|&quot;)?(\w|\\|\/|\.)+(&#39;|&quot;| *|&gt;)? 

26、提取信息中的邮件地址：\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)* 

27、提取信息中的图片链接：(s|S)(r|R)(c|C) *= *(&#39;|&quot;)?(\w|\\|\/|\.)+(&#39;|&quot;| *|&gt;)? 

28、提取信息中的IP地址：(\d+)\.(\d+)\.(\d+)\.(\d+) 

29、提取信息中的中国手机号码：(86)*0*13\d{9} 

30、提取信息中的中国固定电话号码：(\(\d{3,4}\)|\d{3,4}-|\s)?\d{8} 

31、提取信息中的中国电话号码（包括移动和固定电话）：(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14} 

32、提取信息中的中国邮政编码：[1-9]{1}(\d+){5} 

33、提取信息中的浮点数（即小数）：(-?\d*)\.?\d+ 

34、提取信息中的任何数字 ：(-?\d*)(\.\d+)? 

35、IP：(\d+)\.(\d+)\.(\d+)\.(\d+) 

36、电话区号：/^0\d{2,3}$/ 

37、腾讯QQ号：^[1-9]*[1-9][0-9]*$ 

38、帐号(字母开头，允许5-16字节，允许字母数字下划线)：^[a-zA-Z][a-zA-Z0-9_]{4,15}$ 

39、中文、英文、数字及下划线：^[\u4e00-\u9fa5_a-zA-Z0-9]+$</code></pre></p></div><div class="pagination"><p class="clearfix"><span class="pre pagbuttons"><a role="navigation" href="/tech/wget.html" title="Wget递归下载整个网站 网站扒皮必备"><i class="fa fa-angle-double-left"></i>&nbsp;上一篇: Wget递归下载整个网站 网站扒皮必备</a></span><span>&nbsp;</span><span class="next pagbuttons"><a role="navigation" href="/share/aliyun-yiyuan.html" title="阿里云抽奖1元体验Linux Windows 虚拟主机一年（系统可随意切换）">下一篇: 阿里云抽奖1元体验Linux Windows 虚拟主机一年（系统可随意切换）&nbsp;<i class="fa fa-angle-double-right"></i></a></span></p></div><a id="comments"></a><div id="valine-container"></div><script>(function(){
    if(typeof Valine !== 'undefined'){
        new Valine({
            el:'#valine-container',
            appId: 'SphQyGolSRFHnBWzGGz4XeLE-gzGzoHsz',
            appKey: 'gMqbeGAx90w5NF4G4R43I0UD',
            placeholder: '快来评论吧😀',
            path: window.location.pathname
        })
    }
}())
</script></div></div></div><div class="visible-xs site-bottom-footer"><footer><p>&copy;&nbsp;2020&nbsp;<a target="_blank" href="https://wrdan.com" rel="noopener noreferrer">DAN.yu</a></p><p>Theme&nbsp;<a target="_blank" href="https://github.com/SumiMakito/hexo-theme-typography" rel="noopener noreferrer">Typography</a>&nbsp;by&nbsp;<a target="_blank" href="https://www.keep.moe" rel="noopener noreferrer">Makito</a></p><p>Proudly published with&nbsp;<a target="_blank" href="https://hexo.io" rel="noopener noreferrer">Hexo</a></p></footer></div></div></div></div><script src="https://cdn.jsdelivr.net/npm/jquery@3.1.0/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery-migrate@1.2.1/dist/jquery-migrate.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery.appear@latest/jquery.appear.min.js"></script><script src="https://cdn.jsdelivr.net/gh/oner8/assets/js/google-analytics.js"></script><script src="https://cdn.jsdelivr.net/gh/oner8/assets/js/typography.min.js"></script></body></html>